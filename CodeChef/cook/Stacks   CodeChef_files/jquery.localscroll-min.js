(function(e){var t=location.href.replace(/#.*/,""),n=e.localScroll=function(t){e("body").localScroll(t)};n.defaults={duration:1e3,axis:"y",event:"click",stop:1};n.hash=function(t){t=e.extend({},n.defaults,t);t.hash=0;if(location.hash)setTimeout(function(){o(0,location,t)},0)};e.fn.localScroll=function(i){i=e.extend({},n.defaults,i);return i.persistent||i.lazy?this.bind(i.event,function(t){var n=e([t.target,t.target.parentNode]).filter(l)[0];n&&o(t,n,i)}):this.find("a,area").filter(l).bind(i.event,function(e){o(e,this,i)}).end().end();function l(){var n=this;return!!n.href&&!!n.hash&&n.href.replace(n.hash,"")==t&&(!i.filter||e(n).is(i.filter))}};function o(t,n,o){var i=n.hash.slice(1),l=document.getElementById(i)||document.getElementsByName(i)[0],a;if(l){t&&t.preventDefault();a=e(o.target||e.scrollTo.window());if(o.lock&&a.is(":animated")||o.onBefore&&o.onBefore.call(n,t,l,a)===!1)return;if(o.stop)a.queue("fx",[]).stop();a.scrollTo(l,o).trigger("notify.serialScroll",[l]);if(o.hash)a.queue(function(){location=n.hash;e(this).dequeue()})}}})(jQuery);