Drupal.behaviors.codechef_common_functions=function(){if($.ui!=undefined){if($.ui.autocomplete!=undefined){$.ui.autocomplete.prototype.options={delay:100,minLength:2,position:{my:"left top",at:"left bottom",collision:"none"},focus:function(e,t){e.preventDefault()}}}}};var fillStateDropDown=function(e,t){var o="";if(e!=null){for(var n=0;n<e.length;n++){o+='<option value="'+e[n].state_id+'">'+e[n].state_name+"</option>"}}else{o+='<option value="N.A">N.A</option>'}if(t.length>0){t.html(o);return false}};var getStateFromCountry=function(e,t,o){$.ajax({type:"GET",beforeSend:function(){if($("#state-loader").length){$("#state-loader").html("Loading...")}else{t.append('<span id="state-loader">Loading...</span>')}},url:"/codechef_register/js/get/state/"+e+"/",dataType:"json",success:function(e){fillStateDropDown(e,o)},complete:function(){$("#state-loader").html("")}})};var lockFormSubmission=function(e){var t={};for(var o=0;o<e.length;o++){if(e[o].value=="Cancel"){delete e[o]}}e.attr("disabled","disabled");return false};var unlockFormSubmission=function(e){e.removeAttr("disabled");return false};var checkValInSuggestions=function(e,t,o){var n=e.val();var i=$.inArray(n,t);var a="";if(i==-1){if(o){a=$(e).tooltip({content:"You must select a value from the suggestions provided.",show:{effect:"blind",duration:800},position:{at:"right top-18"},close:function(){$(this).tooltip("destroy")},tooltipClass:"error cc_tooltip"});a.tooltip("open")}else{if($("div.error",e.parent()).length<1){e.after('<div class="error">You must select a value from the suggestions provided.</div>')}}lockFormSubmission($("input[type=submit]"));e.val("")}else if(i>-1){if(!o){if($("div.error",e.parent()).length>0){$("div.error",e.parent()).remove()}}unlockFormSubmission($("input[type=submit]"))}};function autoCompleteHandler(e){e.init();$(this).autocomplete({source:e.source,search:function(t,o){if(e.entityIdObj!==null&&e.entityIdObj!=undefined&&e.entityIdObj!=""){e.entityIdObj.val(0)}},response:e.response,select:e.select}).addClass("ui-widget ui-widget-content");if(e.checkValinSuggestions){this.focusout(function(){var t=$.map(e.suggestions,function(e){return e["value"]});checkValInSuggestions($(this),t,e.showTooltip)})}}var organisationAutocompleteHandler=function(e){$(this).autocomplete({autoFocus:false,source:"/codechef_register/autocomplete/organisation",select:function(t,o){e.val(o.item.id)},search:function(t,o){e.val(0)},focus:function(e,t){e.preventDefault()}}).addClass("ui-widget ui-widget-content")};var supportsHtml5Storage=function(){try{return"localStorage"in window&&window["localStorage"]!==null}catch(e){return false}};var createCookie=function(e,t,o){if(o){var n=new Date;n.setTime(n.getTime()+o*24*60*60*1e3);var i="; expires="+n.toGMTString()}else var i="";document.cookie=e+"="+t+i+"; path=/"};var readCookie=function(e){var t=e+"=";var o=document.cookie.split(";");for(var n=0;n<o.length;n++){var i=o[n];while(i.charAt(0)==" ")i=i.substring(1,i.length);if(i.indexOf(t)==0)return i.substring(t.length,i.length)}return null};var eraseCookie=function(e){createCookie(e,"",-1)};function validateNewEntity(){if($(this).val()===""||$(this).val()===0){$(this).attr("class","error");if($("div.error",$(this).parent()).length<1){$(this).after('<div class="error">You  haven\'t entered anything.</div>')}lockFormSubmission($("input[type=submit]"))}else{$("div.error",$(this).parent()).remove();unlockFormSubmission($("input[type=submit]"))}return false}function autcompleteFactory(e){if(e.showTooltip==undefined||e.showTooltip==false){e.showTooltip=false}else e.showTooltip=true;if(e.allowInstantApproval==undefined||e.allowInstantApproval==false){e.allowInstantApproval=false}else e.allowInstantApproval=true;if(e.showTooltip==undefined||e.showTooltip==false){e.showTooltip=false}else e.showTooltip=true;if(e.showSuggCount==undefined||e.showSuggCount==false){e.showSuggCount=false}else e.showSuggCount=true;if(e.checkValinSuggestions==undefined||e.checkValinSuggestions==false){e.checkValinSuggestions=false}else e.checkValinSuggestions=true;autoCompleteHandler.call(e.name,e)}Drupal.behaviors.codechef_common_functions["weight"]=-100;