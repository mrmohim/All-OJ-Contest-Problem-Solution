(function(){"use strict";var t,i,s,n=function(t,i){return function(){return t.apply(i,arguments)}};t=jQuery;i=function(){function t(){}t.transitions={webkitTransition:"webkitTransitionEnd",mozTransition:"mozTransitionEnd",oTransition:"oTransitionEnd",transition:"transitionend"};t.transition=function(t){var i,s,n,e;i=t[0];e=this.transitions;for(n in e){s=e[n];if(i.style[n]!=null){return s}}};return t}();s=function(){s.settings={namespace:"growl",duration:3200,close:"&#215;",location:"default",style:"default",size:"medium"};s.growl=function(t){if(t==null){t={}}this.initialize();return new s(t)};s.initialize=function(){return t("body:not(:has(#growls))").append('<div id="growls" />')};function s(i){if(i==null){i={}}this.html=n(this.html,this);this.$growl=n(this.$growl,this);this.$growls=n(this.$growls,this);this.animate=n(this.animate,this);this.remove=n(this.remove,this);this.dismiss=n(this.dismiss,this);this.present=n(this.present,this);this.cycle=n(this.cycle,this);this.close=n(this.close,this);this.unbind=n(this.unbind,this);this.bind=n(this.bind,this);this.render=n(this.render,this);this.settings=t.extend({},s.settings,i);this.$growls().attr("class",this.settings.location);this.render()}s.prototype.render=function(){var t;t=this.$growl();this.$growls().append(t);if(this.settings["static"]!=null){this.present()}else{this.cycle()}};s.prototype.bind=function(t){if(t==null){t=this.$growl()}return t.on("contextmenu",this.close).find("."+this.settings.namespace+"-close").on("click",this.close)};s.prototype.unbind=function(t){if(t==null){t=this.$growl()}return t.off("contextmenu",this.close).find("."+this.settings.namespace+"-close").off("click",this.close)};s.prototype.close=function(t){var i;t.preventDefault();t.stopPropagation();i=this.$growl();return i.stop().queue(this.dismiss).queue(this.remove)};s.prototype.cycle=function(){var t;t=this.$growl();return t.queue(this.present).delay(this.settings.duration).queue(this.dismiss).queue(this.remove)};s.prototype.present=function(t){var i;i=this.$growl();this.bind(i);return this.animate(i,""+this.settings.namespace+"-incoming","out",t)};s.prototype.dismiss=function(t){var i;i=this.$growl();this.unbind(i);return this.animate(i,""+this.settings.namespace+"-outgoing","in",t)};s.prototype.remove=function(t){this.$growl().remove();return t()};s.prototype.animate=function(t,s,n,e){var r;if(n==null){n="in"}r=i.transition(t);t[n==="in"?"removeClass":"addClass"](s);t.offset().position;t[n==="in"?"addClass":"removeClass"](s);if(e==null){return}if(r!=null){t.one(r,e)}else{e()}};s.prototype.$growls=function(){return this.$_growls!=null?this.$_growls:this.$_growls=t("#growls")};s.prototype.$growl=function(){return this.$_growl!=null?this.$_growl:this.$_growl=t(this.html())};s.prototype.html=function(){return"<div class='"+this.settings.namespace+" "+this.settings.namespace+"-"+this.settings.style+" "+this.settings.namespace+"-"+this.settings.size+"'>\n  <div class='"+this.settings.namespace+"-close'>"+this.settings.close+"</div>\n  <div class='"+this.settings.namespace+"-title'>"+this.settings.title+"</div>\n  <div class='"+this.settings.namespace+"-message'>"+this.settings.message+"</div>\n</div>"};return s}();t.growl=function(t){if(t==null){t={}}return s.growl(t)};t.growl.error=function(i){var s;if(i==null){i={}}s={title:"Error!",style:"error"};return t.growl(t.extend(s,i))};t.growl.notice=function(i){var s;if(i==null){i={}}s={title:"Notice!",style:"notice"};return t.growl(t.extend(s,i))};t.growl.warning=function(i){var s;if(i==null){i={}}s={title:"Warning!",style:"warning"};return t.growl(t.extend(s,i))}}).call(this);